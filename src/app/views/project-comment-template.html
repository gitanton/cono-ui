<div class="project-comment-page page">
    <div ng-include="'views/header.html'"></div>
    <div ng-include="'views/siderbar.html'"></div>
    <div class="project-comment-container">
        <div class="project-comment-header">
            <div class="project-comment-header-name col-md-6">
                <span ng-bind="updateProjectTitle"></span><img src="images/edit-icon.png" ng-click="openUpdateProject('{{activeProjectUuid}}')">
            </div>
            <div class="project-comment-header-button col-md-6">
                <button class="btn btn-lg btn-primary" ng-click="openAddComment()">New Comment</button>
            </div>
        </div>
        <div class="project-comment-content">
            <div class="project-comment-content-menu">
                <div class="project-comment-content-nav col-md-12">
                    <ul class="list-inline">
                        <li ng-click="toBuild()">BUILD</li>
                        <li ng-click="toScreen()">SCREENS</li>
                        <li ng-click="toActivity()">ACTIVITY</li>
                        <li class="project-design-menu-current">COMMENTS</li>
                    </ul>
                </div>
            </div>
            <div class="project-comment-subheader">
                <div class="project-comment-subheader-unread col-md-6">
                    <span>4 Comments </span><img src="images/line-after-message.png">
                    <a href="javascript:void(0)"><img src="images/search-icon.png"></a>
                </div>
                <div class="project-comment-subheader-previously col-md-6">
                    <input type="checkbox"> Show previously viewed comments
                </div>
            </div>
            <div class="project-comment-content-body">
                <div class="project-comment-content-items col-md-12">
                    <div class="col-md-12 project-comment-content-item" ng-repeat="message in messages">
                        <div class="project-comment-content-item-first row">
                            <div class="project-comment-content-img col-md-2"><img src="{{message.sender.avatar}}" class="img-responsive"></div>
                            <div class="project-comment-content-name col-md-2">{{message.sender.fullname}}</div>
                            <div class="project-comment-content-message col-md-6">
                                <div class="col-md-12">{{message.content}}</div>
                            </div>
                            <div class="project-comment-content-operate col-md-2">
                                <div class="col-md-12" style="text-align: right;">{{message.created | limitTo:-8}}</div>
                                <div class="col-md-12" style="text-align: right;margin-top: 80px;cursor: pointer">
                                    <div class="col-md-6" ng-click="replyMessageModal('{{message.uuid}}')"><span>Reply</span><img src="images/reply-icon.png"> </div>
                                    <div class="col-md-6" ng-click="deleteMessageModal('{{message.uuid}}')"><span>Delete</span><img src="images/delete-blue-icon.png"></div>
                                </div>
                            </div>
                        </div>
                        <div class="project-comment-content-item-reply row">
                            <div class="project-comment-content-itemReply col-md-12" ng-repeat="reply in message.replies">
                                <div class="project-comment-content-img col-md-2"><img src="{{reply.sender.avatar}}" class="img-responsive"></div>
                                <div class="project-comment-content-name col-md-2">{{reply.sender.fullname}}</div>
                                <div class="project-comment-content-message col-md-6">
                                    <div class="col-md-12">{{reply.content}}</div>
                                </div>
                                <div class="project-comment-content-operate col-md-2">
                                    <div class="col-md-12" style="text-align: right;">{{reply.created | limitTo:-8}}</div>
                                    <div class="col-md-12" style="text-align: right;margin-top: 80px;cursor: pointer">
                                        <div class="col-md-6" ng-click="replyMessageModal('{{message.uuid}}')"><span>Reply</span><img src="images/reply-icon.png"> </div>
                                        <div class="col-md-6" ng-click="deleteMessageModal('{{reply.uuid}}')"><span>Delete</span><img src="images/delete-blue-icon.png"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="updateproject" class="modal fade in" style="display: none;">
    <div class="project-update">
        <div class="col-md-12 project-update-desc">UPDATE PROJECT</div>
        <form name="updateProject">
            <div class="col-md-12 project-update-body">
                <input type="text" name="projecttitle" ng-model="updateProjectTitle" class="form-control project-update-title" />
                <select name="projecttype"  ng-model="updateProjectTypeid" class="form-control project-update-type">
                    <option value=0>Project Type</option>
                    <option value=1>UI/UX Project</option>
                    <option value=2>Video Project</option>
                    <option value=3>Business Template</option>
                </select>
            </div>
            <div class="col-md-12 project-update-button">
                <button class="btn btn-lg project-update-buttoncancel btn-primary" type="cancel" data-dismiss="modal">Cancel</button>
                <button class="btn btn-lg project-update-buttonsubmit btn-primary" type="submit" ng-click="updateMyProject('{{activeProjectUuid}}')">Save</button>
            </div>
        </form>
    </div>
</div>
<div id="addNewMessage" class="modal fade in" style="display: none;">
    <div class="newmessage-add">
        <div class="col-md-10 newmessage-add-desc">NEW COMMENT</div>
        <div class="col-md-2 newmessage-add-delicon"><img src="images/close-icon.png" data-dismiss="modal"></div>
        <form name="createnewmessage">
            <div class="col-md-12 newmessage-add-body">
                <!-- <div class="form-group has-add">
                    <input type="text" name="newmessageemail" ng-model="memberEmail" class="form-control newmessage-add-email" placeholder="Choose recipients or enter an email" />
                    <img class="newmessage-add-addicon" src="images/add-gray-icon.png">
                </div>
                <div class="form-group has-allselected">
                    <label><input type="checkbox"> Send to everyone on the project</label>
                </div> -->
                <p style="text-align:left;">Choose recipients</p>
                <select multiple="multiple" name="recipients" ng-model="recipients" class="form-control" style="margin-bottom:20px;height:60px;s">
                    <option ng-repeat="user in projectMembers" value={{user.uuid}}>{{user.fullname}}</option>
                </select>
                <div class="col-md-12">
                    <textarea name="newmessagecontentl" ng-model="messageContent" class="form-control newmessage-add-message" placeholder="Add Comment"></textarea>
                </div>
            </div>
            <div class="col-md-12 newmessage-add-button">
                <button class="btn btn-lg btn-primary" type="submit" ng-click="addNewComment('{{activeProjectUuid}}')">Send Comment</button>
            </div>
        </form>
    </div>
</div>
<div id="replymessage" class="modal fade in" style="display: none;">
    <div class="replymessage-add">
        <div class="col-md-10 replymessage-add-desc">REPLY COMMENT</div>
        <div class="col-md-2 replymessage-add-delicon"><img src="images/close-icon.png" data-dismiss="modal"></div>
        <form name="createreplymessage">
            <div class="col-md-12 replymessage-add-body">
                <div class="col-md-12">
                    <textarea name="replymessagecontent" ng-model="replyContent" class="form-control replymessage-add-message" placeholder="Add your reply"></textarea>
                </div>
            </div>
            <div class="col-md-12 replymessage-add-button">
                <button class="btn btn-lg btn-primary" type="submit" ng-click="replyMessage()">Send Message</button>
            </div>
        </form>
    </div>
</div>
<div id="deletemessage" class="modal fade in" style="display: none;">
    <div class="message-delete">
        <div class="col-md-10 message-delete-desc">DELETE COMMENT</div>
        <div class="col-md-2 message-delete-delicon"><img src="images/close-icon.png" data-dismiss="modal"></div>
        <div class="col-md-12 message-delete-warning">
            <div class="col-md-12 message-delete-warningicon"><img src="images/warning-icon.png"></div>
            <div class="col-md-12 message-delete-warningdesc">Are you sure you want to delete this comment?</div>
            <div class="col-md-12 message-delete-warningundone">Warning:This cannot be undone</div>
        </div>
        <div class="col-md-12 message-delete-button">
            <button class="btn btn-lg message-delete-buttoncancel btn-primary" type="cancel" data-dismiss="modal">Cancel</button>
            <button class="btn btn-lg message-delete-buttonsubmit btn-primary" type="submit" ng-click='deleteMessage()'>Delete</button>
        </div>
    </div>
</div>
